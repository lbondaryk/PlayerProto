<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="Author" content="Leslie Bondaryk" />
	<meta name="Owner" content="Pearson" />
	<meta name="Copyright" content="Copyright (c) 2013 Pearson. All rights reserved." />
	<meta content="width=device-width, initial-scale=1.0" name="viewport" />
	<meta content="Carmen Santiago, Demo Book" name="description" />

    <!-- Bootstrap -->
    <link href="css/bootstrap_plus.css" rel="stylesheet" media="screen">
	<link href="css/widgets.css" rel="stylesheet">
	<link href="css/learning-objective.css" rel="stylesheet">
	<link href="css/eCourse-master.css" rel="stylesheet" media="screen">
	<link href="css/grey-thing.css" rel="stylesheet">
	<title class="setTitle"></title>
</head>

<body>
	<div class="container-fluid">
		<div class="row-fluid">
			<div class="span4 leftCol">
            	<h2 class="setTitle"></h2>
              	<p> In 1958, a scientist from Scripps Institution of Oceanography in San Diego, CA, named Dave Keeling started measuring carbon dioxide in the atmosphere. He wanted a pollution-free sample so he went to the top of Mauna Loa in Hawaii. Every month he took a samples of the air. After only two years he noticed some interesting things about his data. The amount of CO2 in the air was highest in the spring (May) and lowest in the fall (October). He correctly reasoned that this Annual Cycle is due to plants on land.
              	</p>
				
				<p>Trees, and especially the leaves on trees, are made from carbon dioxide taken from the air. All spring, summer and fall, trees are making new leaves and pulling CO2 out of the atmosphere. In the fall, these leaves fall to the ground where they rot and the carbon in them is returned back to atmosphere. CO2 in the air goes down in the summer as the trees grow and then goes back up in the winter as the leaves rot. There are enough plants on land to change the total amount of CO2 in the air every year! </p>
				
				<p>The other thing that Keeling discovered was that there was more CO2 in the air each year than there was in the previous year:
					<div id="dates"></div></p>

				
			</div>
			<div class="span8 rightCol">         
                <div id="graph0"></div> 
               		<table width="100%">
                    <tr><td colspan="2">
                	<span id="growthSlider"></span> </td></tr>
					<tr><td class="rightAlign"><span id="popDay"></span></td>
                    	<td class="rightAlign"><span id="pop2010"></span></td></tr>
                    <tr><td class="rightAlign"><span id="popWeek"></span></td>
                    	<td class="rightAlign"><span id="pop2050"></span></td></tr>
                    <tr><td class="rightAlign"><span id="popYear"></span></td></tr>
            		</table>
			</div>
		</div>

		<div class="row-fluid">
			<div class="span6 leftCol">
            	<h2>Trend in CO<sub>2</sub> concentration</h2>
              	<p> The trend Keeling found is still continuing; in fact, the yearly increase is getting larger – it is twice as big today (2013) as it was when he started taking measurements 55 years ago.
              	</p>
				<div id="graph1"></div>
				<p>Here is a map of the world-wide sampling network for atmospheric carbon dioxide.
Click on any of the closed symbols (red circles, blue squares, or green triangles) to see the actual monthly data of atmospheric CO2 recorded at that site. The red circles are locations where a person opens a flask to take a discrete air sample. The flask is sealed and mailed to Colorado, where the concentration of CO2 in the flask is determined. The blue squares are the 4 permanent observatories, where CO2 is recorded continuously by a machine. The green triangles are the “Tall Tower” measurements that are also made continuously.</p>

			</div>
			<div class="span6 rightCol">    
				<p>NOAA ESRL Carbon Cycle operates 4 measurement programs.  Semi-continuous measurements are made at 4 baseline observatories, a few surface sites, and from tall towers.  Discrete surface and aircraft samples are measured in Boulder, CO. Presently, atmospheric carbon dioxide, methane, carbon monoxide, hydrogen, nitrous oxide, sulfur hexafluoride, the stable isotopes of carbon dioxide and methane, and halocarbon and volatile organice compounds are measured. Contact: Dr. Pieter Tans, NOAA ESRL Carbon Cycle, Boulder, CO.  http://www.esrl.noaa.gov/gmd/ccgg/</p> 
				<p>Select sample sites on the map to see the historical data from that site.</p>   
                <div id="map0"></div> 
			</div>
		</div>

		<div class="row-fluid">
			<div class="span6 leftCol">
            	<h2>Analyzing CO<sub>2</sub> data</h2>
              	<p> Select one of the data sets and answer the following questions using the graph of the data between 1972 and 1974.
              	</p>
				<div id="graph2"></div>
				<p>In what month is the CO2 usually highest for each year? May</p>
				<p>In what month is it the lowest? Aug</p>
				<p>What is the average decrease for these three years (high-low)? 15.6 ppm</p>
				<p>What is the average increase in ppm from each of the 2 winters</p>
					(change between the low in fall to the￼following high the next spring)? 17.3ppm</p>
				<p>Based on 3&4, what is the yearly increase in ppm/yr?1.7 ppm/yr</p>
			</div>
			<div class="span6 rightCol">         
                <div id="map0"></div> 
			</div>
		</div>
	</div>
	
	
    <script src="js/jquery-latest.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<!-- script src="js/jquery.touchSwipe.min.js"></script-->
	<script src="js/jquery-ui-1.10.2.custom.js"></script>
	<script src="js/toc-structure.js"></script>    
	<script src="js/eCourse-master.js"></script>    
	<script src="js/d3.v3.min.js"></script>

	<script src="js/widget-base.js"></script>
	<script src="js/widget-linegraph.js"></script>
    <script src="js/widget-slider.js"></script>
    <script src="js/widget-callouts.js"></script>
    <script src="js/widget-legend.js"></script>
    <script src="js/widget-numeric.js"></script>
    <script src="js/widget-markergroup.js"></script>
	<script src="js/eventmanager.js"></script>

	<script>



	//the eventManager is an object that is specific to this page.  A new one
	//is created for every page, and then passed to the widgets in that page
	//that must talk to it.
	var eventManager = new EventManager();
	 
	var iceFloe = [
	{x:	"1957 9"	, y:	306.78	},
	{x:	"1957 10"	, y:	311	},
	{x:	"1957 11"	, y:	314	},
	{x:	"1958 1"	, y:	316	}
	]; 
	
	var maunaLoa = [
	{x:	"1958 3", y:	313.7},
	{x:	"1958 4", y:	314	},
	{x:	"1958 5", y:	315	},
	{x:	"1958 7", y:	313	},
	{x:	"1958 8", y:	312	},
	{x:	"1958 9", y:	311	},
	{x:	"1958 10", y:	310.5},
	{x:	"1958 11", y:	310	},
	{x:	"1958 12", y:	311	},
	{x:	"1959 1", y:	312	},
	{x:	"1959 2", y:	312.5	},
	{x:	"1959 3", y:	313	},
	{x:	"1959 4", y:	314.7	},
	{x:	"1959 5", y:	315	},
	{x:	"1959 6", y:	314.8	},
	{x:	"1959 7", y:	313	},
	{x:	"1959 8", y:	311	},
	{x:	"1959 9", y:	310.5	},
	{x:	"1959 10", y:	310	},
	{x:	"1959 11", y:	311.5	},
	{x:	"1959 12", y:	313.2	},
	{x:	"1960 1", y:	313.8	},
	{x:	"1960 2", y:	314.2	},
	{x:	"1960 3", y:	315.7	},
	]; 


	var aircraftHigh = [
	{x:	"1958 9", y:	310 },
	{x:	"1958 10", y:	311	},
	{x:	"1959 1", y:	313	},
	{x:	"1959 2", y:	314	},
	{x:	"1959 3", y:	316.5	},
	{x:	"1959 5", y:	317.7	},
	{x:	"1959 6", y:	314	},
	{x:	"1959 8", y:	311	},
	{x:	"1959 9", y:	311.5	},
	{x:	"1959 10", y:	312	},
	{x:	"1959 11", y:	313	},
	{x:	"1959 12", y:	314	},
	{x:	"1960 1", y:	315	},
	{x:	"1960 2", y:	315	},

	]; 


	var aircraftLow = [
	{x:	"1959 6", y:	314	},
	{x:	"1959 8", y:	308	},
	{x:	"1959 9", y:	311	},
	{x:	"1959 10", y:	313	},
	{x:	"1959 11", y:	313.8},
	{x:	"1959 12", y:	315	},
	{x:	"1960 1", y:	317	},

	]; 
	
	var barrow = [
		{x: "	1971	5	", y: 	332.19	},
{x: "	1971	6	", y:	330.33	},
{x: "	1971	7	", y:	323.78	},
{x: "	1971	8	", y:	317.71	},
{x: "	1971	9	", y:	318.74	},
{x: "	1971	10	", y:	322.79	},
{x: "	1971	11	", y:	327.23	},
{x: "	1971	12	", y:	331.05	},
{x: "	1972	1	", y:	333.48	},
{x: "	1972	2	", y:	334.11	},
{x: "	1972	3	", y:	334.08	},
{x: "	1972	4	", y:	334.5	},
{x: "	1972	5	", y:	335.5	},
{x: "	1972	6	", y:	333.51	},
{x: "	1972	7	", y:	324.91	},
{x: "	1972	8	", y:	318.77	},
{x: "	1972	9	", y:	321.86	},
{x: "	1972	10	", y:	327.09	},
{x: "	1972	11	", y:	330.5	},
{x: "	1972	12	", y:	333.37	},
{x: "	1973	1	", y:	334.68	},
{x: "	1973	2	", y:	335.32	},
{x: "	1973	3	", y:	336.43	},
{x: "	1973	4	", y:	336.95	},
{x: "	1973	5	", y:	336.53	},
{x: "	1973	6	", y:	334.27	},
{x: "	1973	7	", y:	327.85	},
{x: "	1973	8	", y:	322.3	},
{x: "	1973	9	", y:	323.48	},
{x: "	1973	10	", y:	328.37	},
{x: "	1973	11	", y:	331.92	},
{x: "	1973	12	", y:	334.92	},
{x: "	1974	1	", y:	337.08	},
{x: "	1974	2	", y:	337.65	},
{x: "	1974	3	", y:	337.78	},
{x: "	1974	4	", y:	337.57	},
{x: "	1974	5	", y:	338.69	},
{x: "	1974	6	", y:	338.39	},
{x: "	1974	7	", y:	330.95	},
{x: "	1974	8	", y:	323.23	},
{x: "	1974	9	", y:	324.11	},
{x: "	1974	10	", y:	329.3	},
{x: "	1974	11	", y:	333.08	},
{x: "	1974	12	", y:	335.66	},
{x: "	1975	1	", y:	336.63	},
{x: "	1975	2	", y:	336.46	},
{x: "	1975	3	", y:	336.42	},
{x: "	1975	4	", y:	336.6	},
{x: "	1975	5	", y:	336.29	},
{x: "	1975	6	", y:	334.34	},
{x: "	1975	7	", y:	329.3	},
{x: "	1975	8	", y:	324.58	},
{x: "	1975	9	", y:	324.84	},
{x: "	1975	10	", y:	329.31	},
{x: "	1975	11	", y:	333.3	},
{x: "	1975	12	", y:	336.22	},
{x: "	1976	1	", y:	337.44	},
{x: "	1976	2	", y:	337.79	},
{x: "	1976	3	", y:	338.43	},
{x: "	1976	4	", y:	338.8	},
{x: "	1976	5	", y:	337.99	},
{x: "	1976	6	", y:	335.56	},
{x: "	1976	7	", y:	330.41	},
{x: "	1976	8	", y:	324.73	},
{x: "	1976	9	", y:	325.19	},
{x: "	1976	10	", y:	329.27	},
{x: "	1976	11	", y:	333.2	},
{x: "	1976	12	", y:	336.16	},
{x: "	1977	1	", y:	337.63	},
{x: "	1977	2	", y:	337.69	},
{x: "	1977	3	", y:	338.35	},
{x: "	1977	4	", y:	339.33	},
{x: "	1977	5	", y:	339.65	},
{x: "	1977	6	", y:	337.62	},
{x: "	1977	7	", y:	332.06	},
{x: "	1977	8	", y:	326.54	},
{x: "	1977	9	", y:	326.4	},
{x: "	1977	10	", y:	330.05	},
{x: "	1977	11	", y:	334.53	},
{x: "	1977	12	", y:	337.36	},
{x: "	1978	1	", y:	339.87	},
{x: "	1978	2	", y:	341.08	},
{x: "	1978	3	", y:	341	},
{x: "	1978	4	", y:	341.07	},
{x: "	1978	5	", y:	340.95	},
{x: "	1978	6	", y:	339.33	},
{x: "	1978	7	", y:	333.12	},
{x: "	1978	8	", y:	327.13	},
{x: "	1978	9	", y:	327.44	},
{x: "	1978	10	", y:	332.58	},
{x: "	1978	11	", y:	337.21	},
{x: "	1978	12	", y:	338.9	},
{x: "	1979	1	", y:	339.99	},
{x: "	1979	2	", y:	341.18	},
{x: "	1979	3	", y:	342.05	},
{x: "	1979	4	", y:	342.35	},
{x: "	1979	5	", y:	343.27	},
{x: "	1979	6	", y:	341.77	},
{x: "	1979	7	", y:	333.54	},
{x: "	1979	8	", y:	327.12	},
{x: "	1979	9	", y:	328.56	},
{x: "	1979	10	", y:	333.95	},
{x: "	1979	11	", y:	337.52	},
{x: "	1979	12	", y:	338.79	},
{x: "	1980	1	", y:	341.13	},
{x: "	1980	2	", y:	342.76	},
{x: "	1980	3	", y:	343.48	},
{x: "	1980	4	", y:	344.65	},
{x: "	1980	5	", y:	345.37	},
{x: "	1980	6	", y:	342.92	},
{x: "	1980	7	", y:	337.26	},
{x: "	1980	8	", y:	332.58	},
{x: "	1980	9	", y:	332.8	},
{x: "	1980	10	", y:	337.16	},
{x: "	1980	11	", y:	340.41	},
{x: "	1980	12	", y:	343.14	},
{x: "	1981	1	", y:	344.93	},
{x: "	1981	2	", y:	345.5	},
{x: "	1981	3	", y:	345.63	},
{x: "	1981	4	", y:	346.14	},
{x: "	1981	5	", y:	346.68	},
{x: "	1981	6	", y:	343.9	},
{x: "	1981	7	", y:	336.44	},
{x: "	1981	8	", y:	331.05	},
{x: "	1981	9	", y:	333.33	},
{x: "	1981	10	", y:	338.48	},
{x: "	1981	11	", y:	342.26	},
{x: "	1981	12	", y:	344.73	},
{x: "	1982	1	", y:	346.16	},
{x: "	1982	2	", y:	347.13	},
{x: "	1982	3	", y:	347.7	},
{x: "	1982	4	", y:	347.49	},
{x: "	1982	5	", y:	347.53	},
{x: "	1982	6	", y:	345.13	},
{x: "	1982	7	", y:	339.48	},
{x: "	1982	8	", y:	333.37	},
{x: "	1982	9	", y:	333.09	},
{x: "	1982	10	", y:	337.83	},
{x: "	1982	11	", y:	342.49	},
{x: "	1982	12	", y:	345.12	},
{x: "	1983	1	", y:	346.77	},
{x: "	1983	2	", y:	347.4	},
{x: "	1983	3	", y:	347.85	},
{x: "	1983	4	", y:	348.07	},
{x: "	1983	5	", y:	348.45	},
{x: "	1983	6	", y:	346.9	},
{x: "	1983	7	", y:	340.97	},
{x: "	1983	8	", y:	334.12	},
{x: "	1983	9	", y:	334.06	},
{x: "	1983	10	", y:	340.63	},
{x: "	1983	11	", y:	345.81	},
{x: "	1983	12	", y:	347.23	},
{x: "	1984	1	", y:	349.15	},
{x: "	1984	2	", y:	350.54	},
{x: "	1984	3	", y:	350.11	},
{x: "	1984	4	", y:	349.84	},
{x: "	1984	5	", y:	350.49	},
{x: "	1984	6	", y:	348.72	},
{x: "	1984	7	", y:	341.62	},
{x: "	1984	8	", y:	335.92	},
{x: "	1984	9	", y:	337.15	},
{x: "	1984	10	", y:	341.46	},
{x: "	1984	11	", y:	344.88	},
{x: "	1984	12	", y:	348.17	},
{x: "	1985	1	", y:	349.59	},
{x: "	1985	2	", y:	349.51	},
{x: "	1985	3	", y:	350.47	},
{x: "	1985	4	", y:	351.88	},
{x: "	1985	5	", y:	352.37	},
{x: "	1985	6	", y:	350.38	},
{x: "	1985	7	", y:	343.86	},
{x: "	1985	8	", y:	337.34	},
{x: "	1985	9	", y:	338.49	},
{x: "	1985	10	", y:	344.1	},
{x: "	1985	11	", y:	347.43	},
{x: "	1985	12	", y:	349.02	},
{x: "	1986	1	", y:	350.81	},
{x: "	1986	2	", y:	352.84	},
{x: "	1986	3	", y:	353.56	},
{x: "	1986	4	", y:	353.25	},
{x: "	1986	5	", y:	353.29	},
{x: "	1986	6	", y:	350.58	},
{x: "	1986	7	", y:	343.49	},
{x: "	1986	8	", y:	338.78	},
{x: "	1986	9	", y:	341.94	},
{x: "	1986	10	", y:	347.6	},
{x: "	1986	11	", y:	350.2	},
{x: "	1986	12	", y:	352.16	},
{x: "	1987	1	", y:	353.27	},
{x: "	1987	2	", y:	353.77	},
{x: "	1987	3	", y:	354.29	},
{x: "	1987	4	", y:	354.59	},
{x: "	1987	5	", y:	355.21	},
{x: "	1987	6	", y:	353.15	},
{x: "	1987	7	", y:	346.2	},
{x: "	1987	8	", y:	340.36	},
{x: "	1987	9	", y:	341.41	},
{x: "	1987	10	", y:	345.73	},
{x: "	1987	11	", y:	349.86	},
{x: "	1987	12	", y:	353.14	},
{x: "	1988	1	", y:	355.8	},
{x: "	1988	2	", y:	357.21	},
{x: "	1988	3	", y:	357.54	},
{x: "	1988	4	", y:	358.06	},
{x: "	1988	5	", y:	357.86	},
{x: "	1988	6	", y:	354.87	},
{x: "	1988	7	", y:	348.59	},
{x: "	1988	8	", y:	343.53	},
{x: "	1988	9	", y:	345.63	},
{x: "	1988	10	", y:	351.06	},
{x: "	1988	11	", y:	355.43	},
{x: "	1988	12	", y:	358.33	},
{x: "	1989	1	", y:	359.27	},
{x: "	1989	2	", y:	358.91	},
{x: "	1989	3	", y:	360.02	},
{x: "	1989	4	", y:	360.37	},
{x: "	1989	5	", y:	359.72	},
{x: "	1989	6	", y:	358.53	},
{x: "	1989	7	", y:	350.59	},
{x: "	1989	8	", y:	342.79	},
{x: "	1989	9	", y:	344.88	},
{x: "	1989	10	", y:	351.42	},
{x: "	1989	11	", y:	356.38	},
{x: "	1989	12	", y:	359.45	},
{x: "	1990	1	", y:	360.79	},
{x: "	1990	2	", y:	361.3	},
{x: "	1990	3	", y:	361.9	},
{x: "	1990	4	", y:	361.83	},
{x: "	1990	5	", y:	361.56	},
{x: "	1990	6	", y:	357.55	},
{x: "	1990	7	", y:	349.25	},
{x: "	1990	8	", y:	344.72	},
{x: "	1990	9	", y:	346.75	},
{x: "	1990	10	", y:	352.56	},
{x: "	1990	11	", y:	356.89	},
{x: "	1990	12	", y:	360.13	},
{x: "	1991	1	", y:	361.94	},
{x: "	1991	2	", y:	361.86	},
{x: "	1991	3	", y:	362.28	},
{x: "	1991	4	", y:	362.33	},
{x: "	1991	5	", y:	362.01	},
{x: "	1991	6	", y:	360.6	},
{x: "	1991	7	", y:	354.23	},
{x: "	1991	8	", y:	347.03	},
{x: "	1991	9	", y:	348.35	},
{x: "	1991	10	", y:	355.09	},
{x: "	1991	11	", y:	358.57	},
{x: "	1991	12	", y:	360.58	},
{x: "	1992	1	", y:	362.03	},
{x: "	1992	2	", y:	362.18	},
{x: "	1992	3	", y:	362.56	},
{x: "	1992	4	", y:	362.94	},
{x: "	1992	5	", y:	362.76	},
{x: "	1992	6	", y:	360.63	},
{x: "	1992	7	", y:	353.87	},
{x: "	1992	8	", y:	347.37	},
{x: "	1992	9	", y:	348.56	},
{x: "	1992	10	", y:	353	},
{x: "	1992	11	", y:	357.06	},
{x: "	1992	12	", y:	361	},
{x: "	1993	1	", y:	362.67	},
{x: "	1993	2	", y:	362.8	},
{x: "	1993	3	", y:	363.47	},
{x: "	1993	4	", y:	363.86	},
{x: "	1993	5	", y:	363.58	},
{x: "	1993	6	", y:	359.68	},
{x: "	1993	7	", y:	352.34	},
{x: "	1993	8	", y:	348.06	},
{x: "	1993	9	", y:	350.1	},
{x: "	1993	10	", y:	354.28	},
{x: "	1993	11	", y:	358.73	},
{x: "	1993	12	", y:	361.43	},
{x: "	1994	1	", y:	362.8	},
{x: "	1994	2	", y:	364.41	},
{x: "	1994	3	", y:	365.04	},
{x: "	1994	4	", y:	364.34	},
{x: "	1994	5	", y:	364.54	},
{x: "	1994	6	", y:	362.18	},
{x: "	1994	7	", y:	354.39	},
{x: "	1994	8	", y:	348.19	},
{x: "	1994	9	", y:	350.71	},
{x: "	1994	10	", y:	356.65	},
{x: "	1994	11	", y:	361.76	},
{x: "	1994	12	", y:	364.43	},
{x: "	1995	1	", y:	365.82	},
{x: "	1995	2	", y:	366.81	},
{x: "	1995	3	", y:	366.73	},
{x: "	1995	4	", y:	366.49	},
{x: "	1995	5	", y:	366.31	},
{x: "	1995	6	", y:	363.78	},
{x: "	1995	7	", y:	356.55	},
{x: "	1995	8	", y:	351.57	},
{x: "	1995	9	", y:	353.22	},
{x: "	1995	10	", y:	358.16	},
{x: "	1995	11	", y:	363.68	},
{x: "	1995	12	", y:	366.16	},
{x: "	1996	1	", y:	366.99	},
{x: "	1996	2	", y:	368.31	},
{x: "	1996	3	", y:	368.18	},
{x: "	1996	4	", y:	368.29	},
{x: "	1996	5	", y:	369.63	},
{x: "	1996	6	", y:	368.39	},
{x: "	1996	7	", y:	362.08	},
{x: "	1996	8	", y:	354.87	},
{x: "	1996	9	", y:	355.65	},
{x: "	1996	10	", y:	361.2	},
{x: "	1996	11	", y:	363.81	},
{x: "	1996	12	", y:	366.34	},
{x: "	1997	1	", y:	369.08	},
{x: "	1997	2	", y:	369.38	},
{x: "	1997	3	", y:	369	},
{x: "	1997	4	", y:	369.83	},
{x: "	1997	5	", y:	370.72	},
{x: "	1997	6	", y:	368.06	},
{x: "	1997	7	", y:	359.26	},
{x: "	1997	8	", y:	354.68	},
{x: "	1997	9	", y:	357.75	},
{x: "	1997	10	", y:	362.24	},
{x: "	1997	11	", y:	365.74	},
{x: "	1997	12	", y:	368.05	},
{x: "	1998	1	", y:	369.29	},
{x: "	1998	2	", y:	370.45	},
{x: "	1998	3	", y:	371.16	},
{x: "	1998	4	", y:	371.11	},
{x: "	1998	5	", y:	371.74	},
{x: "	1998	6	", y:	369.98	},
{x: "	1998	7	", y:	362.56	},
{x: "	1998	8	", y:	357.35	},
{x: "	1998	9	", y:	360.06	},
{x: "	1998	10	", y:	364.86	},
{x: "	1998	11	", y:	369.11	},
{x: "	1998	12	", y:	373.05	},
{x: "	1999	1	", y:	374.26	},
{x: "	1999	2	", y:	373.89	},
{x: "	1999	3	", y:	374.24	},
{x: "	1999	4	", y:	374.75	},
{x: "	1999	5	", y:	375.5	},
{x: "	1999	6	", y:	372.38	},
{x: "	1999	7	", y:	364.55	},
{x: "	1999	8	", y:	359.12	},
{x: "	1999	9	", y:	360.47	},
{x: "	1999	10	", y:	365.46	},
{x: "	1999	11	", y:	371.44	},
{x: "	1999	12	", y:	373.91	},
{x: "	2000	1	", y:	375.08	},
{x: "	2000	2	", y:	375.74	},
{x: "	2000	3	", y:	375.17	},
{x: "	2000	4	", y:	375.41	},
{x: "	2000	5	", y:	376.45	},
{x: "	2000	6	", y:	373.77	},
{x: "	2000	7	", y:	365.72	},
{x: "	2000	8	", y:	360.02	},
{x: "	2000	9	", y:	361.81	},
{x: "	2000	10	", y:	366.89	},
{x: "	2000	11	", y:	370.88	},
{x: "	2000	12	", y:	373.49	},
{x: "	2001	1	", y:	375.35	},
{x: "	2001	2	", y:	376.31	},
{x: "	2001	3	", y:	376.91	},
{x: "	2001	4	", y:	377.44	},
{x: "	2001	5	", y:	377.68	},
{x: "	2001	6	", y:	375.17	},
{x: "	2001	7	", y:	366.9	},
{x: "	2001	8	", y:	361.08	},
{x: "	2001	9	", y:	363.12	},
{x: "	2001	10	", y:	368.64	},
{x: "	2001	11	", y:	373.19	},
{x: "	2001	12	", y:	376.59	},
{x: "	2002	1	", y:	378.06	},
{x: "	2002	2	", y:	378.17	},
{x: "	2002	3	", y:	378.97	},
{x: "	2002	4	", y:	379.01	},
{x: "	2002	5	", y:	378.51	},
{x: "	2002	6	", y:	376.97	},
{x: "	2002	7	", y:	370.1	},
{x: "	2002	8	", y:	363.39	},
{x: "	2002	9	", y:	365.76	},
{x: "	2002	10	", y:	371.69	},
{x: "	2002	11	", y:	375.38	},
{x: "	2002	12	", y:	377.89	},
{x: "	2003	1	", y:	379.77	},
{x: "	2003	2	", y:	381.91	},
{x: "	2003	3	", y:	382.27	},
{x: "	2003	4	", y:	381.57	},
{x: "	2003	5	", y:	382.22	},
{x: "	2003	6	", y:	379.79	},
{x: "	2003	7	", y:	371.77	},
{x: "	2003	8	", y:	366.79	},
{x: "	2003	9	", y:	368.54	},
{x: "	2003	10	", y:	373.54	},
{x: "	2003	11	", y:	378.68	},
{x: "	2003	12	", y:	382.19	},
{x: "	2004	1	", y:	382.89	},
{x: "	2004	2	", y:	382.61	},
{x: "	2004	3	", y:	382.66	},
{x: "	2004	4	", y:	383.72	},
{x: "	2004	5	", y:	384.07	},
{x: "	2004	6	", y:	379.88	},
{x: "	2004	7	", y:	371.9	},
{x: "	2004	8	", y:	366.59	},
{x: "	2004	9	", y:	368.71	},
{x: "	2004	10	", y:	373.77	},
{x: "	2004	11	", y:	378.84	},
{x: "	2004	12	", y:	381.86	},
{x: "	2005	1	", y:	383.77	},
{x: "	2005	2	", y:	385.09	},
{x: "	2005	3	", y:	385.45	},
{x: "	2005	4	", y:	385.52	},
{x: "	2005	5	", y:	385.53	},
{x: "	2005	6	", y:	383.17	},
{x: "	2005	7	", y:	376.21	},
{x: "	2005	8	", y:	369.8	},
{x: "	2005	9	", y:	372.49	},
{x: "	2005	10	", y:	378.49	},
{x: "	2005	11	", y:	382.98	},
{x: "	2005	12	", y:	385.73	},
{x: "	2006	1	", y:	386.59	},
{x: "	2006	2	", y:	387.2	},
{x: "	2006	3	", y:	387.59	},
{x: "	2006	4	", y:	387.5	},
{x: "	2006	5	", y:	388.48	},
{x: "	2006	6	", y:	387.16	},
{x: "	2006	7	", y:	378.92	},
{x: "	2006	8	", y:	372.8	},
{x: "	2006	9	", y:	376.75	},
{x: "	2006	10	", y:	382.96	},
{x: "	2006	11	", y:	385.03	},
{x: "	2006	12	", y:	387.85	},
{x: "	2007	1	", y:	389.58	},
{x: "	2007	2	", y:	388.81	},
{x: "	2007	3	", y:	389.62	},
{x: "	2007	4	", y:	390.35	},
{x: "	2007	5	", y:	389.88	},
{x: "	2007	6	", y:	386.55	},
{x: "	2007	7	", y:	378.22	},
{x: "	2007	8	", y:	373.57	},
{x: "	2007	9	", y:	376.01	},
{x: "	2007	10	", y:	380.73	},
{x: "	2007	11	", y:	385.11	},
{x: "	2007	12	", y:	388.97	},
{x: "	2008	1	", y:	391.54	},
{x: "	2008	2	", y:	392.96	},
{x: "	2008	3	", y:	393.29	},
{x: "	2008	4	", y:	393.33	},
{x: "	2008	5	", y:	393	},
{x: "	2008	6	", y:	389.31	},
{x: "	2008	7	", y:	381.79	},
{x: "	2008	8	", y:	376.56	},
{x: "	2008	9	", y:	377.48	},
{x: "	2008	10	", y:	382.21	},
{x: "	2008	11	", y:	387.03	},
{x: "	2008	12	", y:	391.62	},
{x: "	2009	1	", y:	393.01	},
{x: "	2009	2	", y:	392.76	},
{x: "	2009	3	", y:	393.66	},
{x: "	2009	4	", y:	394.6	},
{x: "	2009	5	", y:	394.16	},
{x: "	2009	6	", y:	391.58	},
{x: "	2009	7	", y:	383.82	},
{x: "	2009	8	", y:	376.49	},
{x: "	2009	9	", y:	378.94	},
{x: "	2009	10	", y:	383.92	},
{x: "	2009	11	", y:	387.68	},
{x: "	2009	12	", y:	392.32	},
{x: "	2010	1	", y:	394.32	},
{x: "	2010	2	", y:	394.15	},
{x: "	2010	3	", y:	394.93	},
{x: "	2010	4	", y:	396.14	},
{x: "	2010	5	", y:	395.69	},
{x: "	2010	6	", y:	392.5	},
{x: "	2010	7	", y:	385.46	},
{x: "	2010	8	", y:	379.86	},
{x: "	2010	9	", y:	383.26	},
{x: "	2010	10	", y:	388.22	},
{x: "	2010	11	", y:	392.76	},
{x: "	2010	12	", y:	397.05	},
{x: "	2011	1	", y:	397.76	},
{x: "	2011	2	", y:	397.51	},
{x: "	2011	3	", y:	398.47	},
{x: "	2011	4	", y:	398.85	},
{x: "	2011	5	", y:	398.25	},
{x: "	2011	6	", y:	394.53	},
{x: "	2011	7	", y:	386.05	},
{x: "	2011	8	", y:	380.09	},
{x: "	2011	9	", y:	383.67	},
{x: "	2011	10	", y:	389.65	},
{x: "	2011	11	", y:	394.6	},
{x: "	2011	12	", y:	397.57	},

	];
	
	var Data = [iceFloe, maunaLoa, aircraftHigh, aircraftLow];
		

	var observatories = [
		{x: "180&deg;", y: "0"},
		{x: "140&deg;", y: "30&deg;N"},
		{x: "140&deg;", y: "60&deg;N"},

	];

// draw the highlightable dates table
	var clickDates = new Callouts({
		show: "all",
		headers: ["Date", "CO<sub>2</sub> Concentration (ppm)" ],
		textBits: [
		{cols: [maunaLoa[0].x, maunaLoa[0].y]},
		{cols: [maunaLoa[11].x, maunaLoa[11].y]},
		{cols: [maunaLoa[23].x, maunaLoa[23].y]}
		]
	}, eventManager);
	
	clickDates.draw(d3.select("#dates"));
// configure and draw the SVG container and the graph of the multiple co2 data

	var cont1 = new SVGContainer({
			node: d3.select("#graph0"),
			maxWid: 800,
			maxHt: 500
		});
		
	var lines = new LineGraph({
			id: "lg0",
			Data: Data, 
			type: "lines+points",
			xAxisFormat: { type: "time",
						   ticks: 12,
						   orientation: "bottom",
						   label: "Year" },
			yAxisFormat: { type: "linear",
						   orientation: "left",
						   label: "CO<sub>2</sub> Concentration (ppm)",
						    ticks: [305,310,315,320,325],
						    },
		},eventManager);	
			
	cont1.append(lines, {topPercentOffset: 0.2, leftPercentOffset: 0, heightPercent: 0.8, widthPercent: 0.8});
	
// configure and append the legend to the graph

	var legLines = new Legend({
		xPos: "left", yPos: "top",
		labels: [
				{ content: "Ice Floe Stations"},
				{ content: "Mauna Loa"},
				{ content: "Aircraft (higher air temperature)"},
				{ content: "Aircraft (lower air temperature)"}
				],
		type: "line"
	},eventManager);
	
	// add markers to the graph
	var marks = new MarkerGroup(
		{
		type: "x",
		marks: [maunaLoa[0], maunaLoa[11], maunaLoa[23]]
		}, eventManager);
		
	// write the markers onto the graph in the local coordinates, inside the 
	// data area.  These are designed to slop over the top, that's why the
	// graph is written to the bottom 80% of SVG area
	lines.append([marks, legLines]);


	//this draws the long-term swappable CO2 concentration graphs
	var cont2 = new SVGContainer({
			node: d3.select("#graph1"),
			maxWid: 570,
			maxHt: 500
		});
		
	var barrowGraph = new LineGraph({
			//id: "lg0",
			Data: [barrow], 
			type: "lines",
			xAxisFormat: { type: "time",
						   ticks: 8,
						   orientation: "bottom",
						   label: "Year" },
			yAxisFormat: { type: "linear",
						   orientation: "left",
						   label: "CO<sub>2</sub> Concentration (ppm)",
						    ticks: [300,325,350,375,400],
						    },
		},eventManager);	

	cont2.append(barrowGraph);


	//this draws the map with the selectable points that select data sets for the 
	// CO2 graphs
	var mapImg = new Image({
		URI: 'img/CO2SamplesMap.jpg',
		caption: "Cooperative Measurement Programs: NOAA ESRL Carbon Cycle",
		preserveAspectRatio: "xMidYMid",
		actualSize: {height: 194, width: 259}
	});

	var measure = new LineGraph(
		{
			Data: [observatories],
			type: "points",
			xAxisFormat: { type: "ordinal",
						   ticks: 5,
						   orientation: "bottom",
						  },
			yAxisFormat: { type: "ordinal",
						   ticks: 5,
						   orientation: "left",
						   },
		});
	
	
	var mapSVG = new SVGContainer({
			node: d3.select("#map0"),
			maxWid: 500,
			maxHt: 400
		});
	mapSVG.append(measure);
	
	//measure.append(mapImg, "before");
	

	//this draws the CO2 concentration question graph
	var cont3 = new SVGContainer({
			node: d3.select("#graph2"),
			maxWid: 570,
			maxHt: 500
		});
		
	var qGraph = new LineGraph({
			//id: "lg0",
			Data: [barrow], 
			type: "points",
			xAxisFormat: { type: "time",
						   ticks: ["1972 1", "1973 1", "1974 1", "1974 5"],
						   orientation: "bottom",
						   label: "Date" },
			yAxisFormat: { type: "linear",
						   orientation: "left",
						   label: "CO<sub>2</sub> Concentration (ppm)",
						    ticks: [315,320,325,330,335,340],
						    },
		},eventManager);	

	cont3.append(qGraph);
	// Handle changes of the growth rate slider (one subscription per
	// event we listen to)
	
	eventManager.subscribe(legLines.selectedEventId,
						   handleHighlight);
	eventManager.subscribe(lines.selectedEventId,
						   handleHighlight);


	
/************************************************************************
* handleHighlight                                            *//**
*
* handleInputValueChanged is called from the event handler for one of
* the input widgets when the user changes its value. It updates the
* given matching input widget's value to match the new value and then
* updates the bar chart.
*
* @param eventDetails			These are the keyed values returned by 
*								the event, in this case, a selection
*								(click).
*************************************************************************/
	function handleHighlight(eventDetails)
	{
		//Handler needs to get written into each page, 
		//each widget will have it's own way of responding  
	
		lines.lite(eventDetails.selectKey);
		legLines.lite(eventDetails.selectKey);
		
	}

// Handle highlight clicks on the markers and table
	eventManager.subscribe(clickDates.selectedEventId,
						   handleSelectionChanged);
	eventManager.subscribe(marks.selectedEventId,
						   handleSelectionChanged);

 
//TEST: set the start highlight state of 0 index by calling the 
//handler with a hard-set index of 0.  This should result in the
//first label getting highlighted and the first callout being displayed.
	handleSelectionChanged({selectKey: '0'});
	
/************************************************************************
* handleSelectionChanged                                            *//**
*
* handleInputValueChanged is called from the event handler for one of
* the input widgets when the user changes its value. It updates the
* given matching input widget's value to match the new value and then
* updates the bar chart.
*
* @param eventDetails			These are the keyed values returned by 
*								the event, in this case, a selection
*								(click).
*************************************************************************/
	function handleSelectionChanged(eventDetails)
	{
		//Handler needs to get written into each page, 
		//each widget will have it's own way of responding  
		//LabelLite should be a method of Labels, once Labels
		//is written as a constructor
		clickDates.lite(eventDetails.selectKey);
		marks.lite(eventDetails.selectKey);
		
	}
	
	
	</script>
</body>
</html>
