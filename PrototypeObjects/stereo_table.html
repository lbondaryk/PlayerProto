<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="Author" content="Leslie Bondaryk" />
	<meta name="Owner" content="Pearson" />
	<meta name="Copyright" content="Copyright (c) 2013 Pearson. All rights reserved." />
	<meta content="width=device-width, initial-scale=1.0" name="viewport" />
	<meta content="eCourses Author, Title" name="description" />

    <!-- Bootstrap -->
    <link href="../css/bootstrap_plus.css" rel="stylesheet">
	<link href="../css/widgets.css" rel="stylesheet">
</head>

<body>
	<div id="bricTarget"></div>

	<script src="../js/jquery-latest.js"></script>
	<script src="../js/d3.v3.min.js"></script>

   	<script src="../js/widget-base.js"></script>
	<script src="../js/widget-button.js"></script>
	<script src="../js/widget-sketch.js"></script>
	<script src="../js/widget-labelgroup.js"></script>
	<script src="../js/widget-callouts.js"></script>
	<script src="../js/eventmanager_ex.js"></script>

	<script>
	var eventManager = new EventManager();


var sketch8_1 = new Sketch ({
		id: "sketch8_1",
		drawShape:
		[
			{ shape: "line", data: [{ xyPos: [.05, .4], length: .2, angle: Math.PI/2 }]},
			{ shape: "line", data: [{ xyPos: [.05, .5], length: .2, angle: 0 }]},
			
			{ shape: "line", data: [{ xyPos: [.25, .5], length: .2, angle: Math.PI/3 }]},
			{ shape: "line", data: [{ xyPos: [.28, .5], length: .17, angle: Math.PI/3 }]},
			
			{ shape: "line", data: [{ xyPos: [.35, .675], length: .2, angle: 0 }]},
			
			{ shape: "line", data: [{ xyPos: [.55, .675], length: .2, angle: -Math.PI/3 }]},
			{ shape: "line", data: [{ xyPos: [.62, .5], length: .17, angle: 2*Math.PI/3 }]},
			
			{ shape: "line", data: [{ xyPos: [.65, .5], length: .2, angle: -2*Math.PI/3 }]},
			
			{ shape: "line", data: [{ xyPos: [.55, .325], length: .2, angle: Math.PI }]},
			{ shape: "line", data: [{ xyPos: [.535, .35], length: .17, angle: Math.PI }]},
			
			{ shape: "line", data: [{ xyPos: [.35, .325], length: .2, angle: 2*Math.PI/3 }]},
		]
	});

// molecule 2
var sketch8_2 = new Sketch ({
		id: "sketch8_2",
		drawShape:
		[
			{ shape: "line", data: [{ xyPos: [.05, .43], length: .2, angle: -Math.PI/4 }]},
			{ shape: "line", data: [{ xyPos: [.23, .47], length: .15, angle: -3*Math.PI/4 }]},
		
			{ shape: "textBit", data: [{ xyPos: [.3, .48], text: "CH2" }]},
		
			{ shape: "line", data: [{ xyPos: [.35, .5], length: .1, angle: 0 }]},
		
			{ shape: "line", data: [{ xyPos: [.45, .5], length: .2, angle: Math.PI/3 }]},
			{ shape: "line", data: [{ xyPos: [.48, .5], length: .17, angle: Math.PI/3 }]},
			
			{ shape: "line", data: [{ xyPos: [.55, .675], length: .2, angle: 0 }]},
			
			{ shape: "line", data: [{ xyPos: [.75, .675], length: .2, angle: -Math.PI/3 }]},
			{ shape: "line", data: [{ xyPos: [.82, .5], length: .17, angle: 2*Math.PI/3 }]},
			
			{ shape: "line", data: [{ xyPos: [.85, .5], length: .2, angle: -2*Math.PI/3 }]},
			
			{ shape: "line", data: [{ xyPos: [.75, .325], length: .2, angle: Math.PI }]},
			{ shape: "line", data: [{ xyPos: [.735, .35], length: .17, angle: Math.PI }]},
			
			{ shape: "line", data: [{ xyPos: [.55, .325], length: .2, angle: 2*Math.PI/3 }]},
		]
	});

// popup referene (currently stuck in the page)
// reference is a callout
var reference8 = new Callouts ({
	id: "reference",
	headers: ["Structure", "Group", "Abbreviation"],
	show: "all",
	textBits: [
		{key: "methyl",
		cols: ["-CH<sub>3</sub>", "methyl", "Me"]
		},
		{key: "ethyl",
		cols: ["-CH<sub>2</sub>CH<sub>3</sub>", "ethyl", "Et"]
		},
		{key: "propyl",
		cols: ["-CH<sub>2</sub>CH<sub>2</sub>CH<sub>3</sub>", "propyl", "Pr"]
		},
 		{key: "butyl",
		cols: ["-CH<sub>2</sub>CH<sub>2</sub>CH<sub>2</sub>CH<sub>3</sub>", "butyl", "Bu"]
		},
		{key: "isopropyl",
		cols: ["-CH(CH<sub>3</sub>)<sub>2</sub>", "isopropyl", "<em>i-</em>Pr"]
		},
		{key: "secbutyl",
		cols: ["-CH(CH<sub>3</sub>)CH<sub>2</sub>CH<sub>3</sub>", "<em>sec-</em>butyl", "<em>sec-</em>Bu"]
		},
		{key: "tertbutyl",
		cols: ["-C(CH<sub>3</sub>)<sub>3</sub>", "<em>tert-</em>butyl", "<em>t-</em>Bu"]
		},
		{key: "phenyl",
		cols: ["<div id='blah'></div>", "phenyl", "Ph"]
		},
		{key: "benzyl",
		cols: ["<div id='blah2'></div>", "benzyl", "Bn"]
		}]
}, eventManager);

// draw the callout
reference8.draw(d3.select("#bricTarget"));

// access id's inside callout
var svg8_1 = new SVGContainer({
		node: d3.select("#blah"),
		maxWid: 150,
		maxHt: 150
	});
var svg8_2 = new SVGContainer({
		node: d3.select("#blah2"),
		maxWid: 150,
		maxHt: 150
	});

// append images inside the callout
// (Verified to work in Firefox and Chrome, verified to not work in Safari)
svg8_1.append(sketch8_1, {topPercentOffset: 0, leftPercentOffset: 0, heightPercent: 1, widthPercent: 1});
svg8_2.append(sketch8_2, {topPercentOffset: 0, leftPercentOffset: 0, heightPercent: 1, widthPercent: 1});
	
///////////////////////////////////////



	
	</script>
</body>
</html>
