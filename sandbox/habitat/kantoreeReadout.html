
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="Author" content="Leslie Bondaryk" />
	<meta name="Owner" content="Pearson" />
	<meta name="Copyright" content="Copyright (c) 2013 Pearson. All rights reserved." />
	<meta content="width=device-width, initial-scale=1.0" name="viewport" />
	<meta content="eCourses Author, Title" name="description" />

    <style>
        /* VOGEL: Remove margin and hide scrollbars. */
        html, body {
            margin: 0;
            overflow: hidden;
        }
    </style>
    <!-- SI - don't forget to ../css, ../js, and ../img in these 'object' files too -->
    <!-- LB - if we do our jobs right, you should only need the widgets css, although
         we should rename to brix.css -->
    <!-- <link href="widgets.css" rel="stylesheet"> -->
</head>

<body>
	<!-- LB - these are the spans for the two sliders -->
	 <span id="ee"></span>

    <script src="../../js/jquery-latest.js"></script>
	<script src="../../js/d3.v3.min.js"></script>
    <script src="../../js/widget-numeric.js"></script>
  	<script src="../../js/eventmanager.js"></script>

	<script>

	// SI - you still need an eventManager for the scripts to not throw an error.  It just doesn't do anything
 
	var eventManager = new EventManager();

	// LB - include only js for this 'object'.  Needs the data again redundantly
 	var levoData =   [ { x: 35, y: "Levo" } ];
	var dextroData = [ { x: 65, y: "Dextro" } ];

	// Create the ee readout widget
	var eeReadout = new Readout({
		node: d3.select("#ee"),
        id: 'eeRead',
		startVal: Math.abs(dextroData[0].x - levoData[0].x),
		readOnly: true,
		size: 4,
		unit: "%", 
		label: "ee ="
	}, eventManager);

    // VOGEL: Listen for updates from the parent and update the widget.
    window.addEventListener('message', function(e){
        var data = e.data;
        if (data.method === 'restore'){
            var lexoValue = data.value['levoValue'] || 0;
            var dextroValue = data.value['dextroValue'] || 0;
            var delta = Math.abs(lexoValue - dextroValue);
            eeReadout.setValue(delta)
        }
    });

	</script>
</body>
</html>
